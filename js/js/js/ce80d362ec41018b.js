!function(){function e(e,n){function t(){return A.get(e)}function r(){var n=t();if(void 0==n)A.set(e,i,options);else{var r=n.split(",");r.push(i)>5&&r.shift(),A.set(e,r.toString(),options)}}function o(){var e=t().split(","),n=e.length,r=e[n-1],o="";return n>1&&(o=e[n-2]),[r,o]}var i=n();return options={expires:356,path:"/"},{get:t,set:r,getLast:o}}function n(e){e||D.set(),M.set()}function t(e,n,t){return null!=e&&(e.addEventListener?e.addEventListener(n,t,!1):e.attachEvent?e.attachEvent("on"+n,t):e["on"+n]=t,!0)}function r(e,n){function t(e,n){var t=document.createElement("a");return t.href=n,e===t.hostname}var r=!1,o=28800;if(void 0==e)r=!1;else{var i=e.split(","),a=parseInt(i.slice(-1));r=!(Math.abs(n-+a)>o||!t(document.domain,top.document.referrer))}return r}function o(e,n,r){var o=("https:"==document.location.protocol?"https://":"http://")+"//stat.tf.360.cn/search/c.js?u="+e;if(""==e||n)r();else{var i=document.createElement("script");i.type="text/javascript",i.async=!0,i.src=o;var a=(T.nowBySeconds(),document.getElementsByTagName("script")[0]);a.parentNode.insertBefore(i,a),t(i,"load",function(e){r()}),t(i,"error",function(e){r()}),t(i,"readystatechange",function(e){"complete"!=i.readyState&&"loaded"!=i.readyState||r()})}}function i(e){var n={};return n.cl=_.pixelDepth||_.colorDepth||"0",n.ds=_.width+"x"+_.height,n.ln=navigator.language||navigator.browserLanguage||"unknown",n.ck=e?1:0,n.et=qsLoad=0,n}function a(e,n,t){var r={};r.si=e,r.url=window.location.href,r.su=top.document.referrer,r.flt=n,r.v=t;var o=D.getLast();r.lt=o[0],""!==o[1]&&(r.lt2=o[1]);var i=M.getLast();return r.pt=i[0],""!==i[1]&&(r.pt2=i[1]),r}function c(){var e="BackCompat"==document.compatMode?"body":"documentElement",n=document[e],t=Math.max(n.scrollWidth,n.clientWidth),r=Math.max(n.scrollHeight,n.clientHeight);return[t,r]}function u(e){e=L.fixTarget(e);var n=e.clientX,t=e.clientY,r=T.getScroll(),o=r.scrollY,i=r.scrollX,a=c();_qha("send",{et:10,x:n+i,y:t+o,w:a[0],h:a[1]})}function d(e){return function(n){n=L.fixTarget(n);var t=n.target,r=t.id;r&&e.indexOf(r)>-1&&_qha("send",{et:11,ep:r})}}function s(e){var n,t='<iframe name="'+e+'">';try{n=document.createElement(t)}catch(r){n=document.createElement("iframe"),n.name=e}n.height=1,n.width=1,n.src=document.location.protocol+"//360fenxi.mediav.com/mv.html",n.onload="",f(n,e),document.body?document.body.appendChild(n):setTimeout(function(){document.body.appendChild(n)},0)}function f(e,n){function r(e){var t=e.split(",");if(""===t)return void console.info("mv is null");var r={et:20,eid:n,ep:t[0],vid:t[1]};_qha("send",r)}function o(e){"http://360fenxi.mediav.com"===e.origin&&r(e.data)}var i="postMessage"in window;i?t(window,"message",o):window.navigator._qha_message=function(e){r(e)}}function l(){var e={},n=3;return e.et=n,e.ep=T.nowBySeconds()-Y,e}function g(e){var n=R.getInfo(),t=i(e);t=N.assign(t,n),t.et=qsLoad,E||(_qha("send",t),E=!0)}function w(e){return e.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$&")}function p(e){return new RegExp(w(e).replace("\\*",".*"))}function v(e){var n,t=location.href;return n=e.indexOf("*")>-1?p(e).test(t):e===t}function m(e){var n=[];for(var t in q)v(t)&&n.push(q[t]);return I.distinct(n.join(",").split(","))}if(!window._qha||window._qha.init!==!0){var h="2.0.0",_=window.screen,y=window._qha_data,b=y.domain,x=y.e360,S=y.pageClk,k=1===y.urlClk,q=y.idClk,O=y.mvid,j=window.location.protocol+"//"+y.host+"/s.gif",E=!1;"undefined"==typeof console&&(console={info:function(){}}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,n){var t;if(null==this)throw new TypeError('"this" is null or not defined');var r=Object(this),o=r.length>>>0;if(0===o)return-1;var i=+n||0;if(Math.abs(i)===1/0&&(i=0),i>=o)return-1;for(t=Math.max(i>=0?i:o-Math.abs(i),0);t<o;){if(t in r&&r[t]===e)return t;t++}return-1});var T={isNumber:function(e){return"number"==typeof e},isString:function(e){return"string"==typeof e},now:function(){return(new Date).getTime()},nowBySeconds:function(){return parseInt(this.now()/1e3)},isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},isObject:function(e){return"[object Object]"===Object.prototype.toString.call(e)},getScroll:function(){var e=void 0!==window.pageXOffset,n="CSS1Compat"===(document.compatMode||""),t=e?window.pageXOffset:n?document.documentElement.scrollLeft:document.body.scrollLeft,r=e?window.pageYOffset:n?document.documentElement.scrollTop:document.body.scrollTop;return{scrollX:t,scrollY:r}},getBrowser:function(){var e=navigator.userAgent.toLowerCase(),n={"360se-ua":"360se",TT:"tencenttraveler",Maxthon:"maxthon",GreenBrowser:"greenbrowser",Sogou:"se 1.x / se 2.x",TheWorld:"theworld"};for(var t in n)if(e.indexOf(n[t])>-1)return t;var r=!1;try{+external.twGetVersion(external.twGetSecurityID(window)).replace(/\./g,"")>1013&&(r=!0)}catch(o){}if(r)return"360se-noua";var i=e.match(/(msie|chrome|safari|firefox|opera|trident)/);return i=i?i[0]:""},guid:function(){function e(e){var n=0,t=0,r=e.length-1;for(r;r>=0;r--){var o=parseInt(e.charCodeAt(r),10);n=(n<<6&4294967295)+o+(o<<14),0!=(t=4261412864&n)&&(n^=t>>21)}return n}function n(){var n=[navigator.appName,navigator.version,navigator.language||navigator.browserLanguage,navigator.platform,navigator.userAgent,_.width,"x",_.height,_.colorDepth,document.referrer].join("");for(sLen=n.length,hLen=window.history.length;hLen;)n+=hLen--^sLen++;return 2147483647*(Math.round(2147483647*Math.random())^e(n))}return n()}},C=function(){function e(e){var n,t=[];for(var r in e)n=e[r],T.isString(n)&&(n='"'+n+'"'),t.push('"'+r+'":'+n);return"{"+t.join(",")+"}"}function n(n){if(!T.isArray(n))return"";if(window.JSON)return JSON.stringify(n);for(var t=[],r=0,o=n.length;r<o;r++){var i=n[r];T.isObject(i)&&t.push(e(n[r])),T.isString(i)&&t.push('"'+i+'"'),T.isNumber(i)&&t.push(i)}return"["+t.join(",")+"]"}function t(e){if(!T.isString(e))return null;if(window.JSON)return JSON.parse(e);if(rvalidchars=/^[\],:{}\s]*$/,rvalidescape=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rvalidtokens=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rvalidbraces=/(?:^|:|,)(?:\s*\[)+/g,rvalidchars.test(e.replace(rvalidescape,"@").replace(rvalidtokens,"]").replace(rvalidbraces,"")))return new Function("return "+e)();throw new Error("invalid JSON data: ",e)}return{array2String:n,string2Object:t}}(),I=function(){function e(e){return r.apply(e,[0,1])}function n(e){return r.apply(e,[1,e.length])}function t(e){for(var n=[],t=e.length,r=0;r<t;r++)n.indexOf(e[r])<0&&n.push(e[r]);return n}var r=Array.prototype.slice;return{first:e,rest:n,distinct:t}}(),L={fixTarget:function(e){if(!("target"in e)){var n=e.srcElement||e.target;n&&3==n.nodeType&&(n=n.parentNode),e.target=n}return e}},N=function(){function e(e,n){if(void 0===n||null===n)return e;for(var t in n)e[t]=n[t];return e}function n(e){var n=[];for(var t in e)if(null!=e[t])if(T.isArray(e[t])){var r=C.array2String(e[t]);n.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}else n.push(encodeURIComponent(t)+"="+encodeURIComponent(e[t]));return n.join("&")}return{assign:e,obj2EncodeURI:n}}(),A={get:function(e){try{var n,t,r=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(t=document.cookie.match(r))&&(n=unescape(t[2])),n}catch(o){return""}},set:function(e,n,t){var r=t||{},o=r.expires,i=r.path,a=r.domain,c=864e5;if("number"==typeof o){var u=new Date;u.setTime(u.getTime()+o*c),o=u.toUTCString()}try{document.cookie=[e,"=",n,o?";expires="+o:"",i?";path="+i:"",a?";domain="+a:""].join("")}catch(d){console.info("error:",d)}}},D=e("qs_lvt_"+b,function(){return T.nowBySeconds().toString()}),M=e("qs_pv_"+b,function(){return T.guid().toString()}),B=function(){function e(e,n){var t="";switch(e){case"chrome":t=n.slice(0,8182);break;case"msie":t=n.slice(0,2083);break;case"firefox":t=n.slice(0,65536);break;case"safari":t=n.slice(0,8e4);break;default:t=n}return t}function n(n){n=e(T.getBrowser(),n),console&&console.info&&console.info("data is: ",n);var t="log_img_"+ +new Date,r=window.__qha_log_imgs[t]=new Image;r.onload=r.onerror=function(){window.__qha_log_imgs&&window.__qha_log_imgs[t]&&(window.__qha_log_imgs[t]=null,delete window.__qha_log_imgs[t])},r.src=n}function t(e,n,t){t=t||{},t=N.assign(t,n);var r=N.obj2EncodeURI(t),o=e.indexOf("?")>-1?e+"&"+r:e+"?"+r;return o+"&t="+ +new Date}return window.__qha_log_imgs={},{sendData:n,generateData:t,logData:function(e,r,o){var i=t(e,r,o);n(i)}}}(),R={set:function(){var e="",n=[],t=window._e360_uid||"",r=window._e360_campaignid||"",o=window._e360_groupid||"",i=window._e360_creativeid||"",a=window._e360_keywordid||"",c=window._e360_clickid||"",u=window._e360_commerce||"";""!==t&&(n=[t,r,o,i,a,c]),""!==u&&n.push(u),e=n.join(","),window.localStorage?localStorage.setItem("s_e360",e):A.set("s_e360",e,{expires:1,path:"/"})},get:function(){var e=window.localStorage?localStorage.getItem("s_e360"):A.get("s_e360"),n={};if(void 0==e||""===e)return{};e=e.split(",");var t=e.length,r=["e_uid","e_cid","e_gid","e_yid","e_kid","e_clkid","e_com"];switch(t){case 0:break;case 1:n.e_com=e[0];break;case 6:case 7:for(var o=0;o<t;o++)n[r[o]]=e[o]}return n},getInfo:function(){var e={};return window._e360_uid&&(e.e_uid=window._e360_uid||"",e.e_cid=window._e360_campaignid||"",e.e_gid=window._e360_groupid||"",e.e_yid=window._e360_creativeid||"",e.e_kid=window._e360_keywordid||"",e.e_clkid=window._e360_clickid||""),window._e360_commerce&&(e.e_com=window._e360_commerce||""),e}},U=function(){function e(e){e=L.fixTarget(e);var n=0,t=3,r=e.target,o={};for(o.t=r.nodeName;n<t&&r&&"A"!=r.nodeName;)n++,r=r.parentNode;return o.u=r&&"A"===r.nodeName?r.href:"",o}function n(e){e=L.fixTarget(e);var n={};return e.pageX&&(n.x=e.pageX),e.pageY&&(n.y=e.pageY),n}function t(e,n){var t=[];for(var r in e)t.push(r+":"+encodeURIComponent(e[r]));for(var o in n)t.push(o+":"+encodeURIComponent(n[o]));return t.join(",")}return function(r){var o=e(r);if(!(""==o.u||o.u.indexOf("javascript")>-1)){var i={},a=2,c=n(r),u=t(o,c);i.et=a,i.ep=u,_qha("send",i)}}}(),X=function(e){function n(n){var t=I.first(n),r=I.rest(n);"function"==typeof e[t]&&e[t].apply({},r)}function t(e){for(var t=0,r=e.length;t<r;t++)n(e[t])}return function(){var e=window._qha;e&&e.c&&T.isArray(e.c)&&t(e.c),window._qha=null,window._qha=function(){n(arguments)},window._qha.init=!0}},Y=T.nowBySeconds(),J=r(D.get(),Y);n(J);var $=a(b,Y,h),G={send:function(e,n,t){return function(t){B.logData(e,n,t)}}(j,$)};if(X(G)(),""!==x&&o(x,J,function(){g(J)}),t(window,"load",function(){setTimeout(function(){g(J)},1e3)}),""!==O&&s(O),t(window,"beforeunload",function(){_qha("send",l())}),null!==q){var W=m(q);W?t(document,"mousedown",d(W)):console.info("ids error: ",W)}if(k&&t(document,"mousedown",U),null!==S){for(var F=!1,H=0;H<S.length;H++){var V=S[H];if(v(V)){F=!0;break}}F&&t(document,"mousedown",u)}}}();